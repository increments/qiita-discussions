name: Notify Slack

on:
  discussion_comment:
    types: [created]
jobs:
  notify_creation_of_discussions:
    runs-on: ubuntu-latest
    timeout-minutes: 5
    if: github.event.discussion && github.event.comment
    steps:
      - uses: slackapi/slack-github-action@91efab103c0de0a537f72a35f6b8cda0ee76bf0a # v2.1.1
        with:
          method: chat.postMessage
          payload: |
            channel: "${{ secrets.SLACK_CHANNEL_ID }}"
            text: "Created discussion comment: ${{ github.event.comment.html_url }}"
        env:
          SLACK_TOKEN: ${{ secrets.SLACK_BOT_TOKEN }}
